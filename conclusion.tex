\section{Conclusion}
\label{s:conclusion}

This paper presented \pktlanguage, a C-like imperative language that allows
programmers to write packet-processing code using packet transactions:
sequential code blocks that are atomic and isolated from other such code
blocks. The \pktlanguage compiler compiles packet transactions to \absmachine,
a family of abstract machines based on programmable line-rate switch
architectures~\cite{flexpipe, xpliant, rmt}. Our results suggest that it is
possible to have both a familiar programming model and line-rate
performance---i.e. if the algorithm can indeed run at line rate.

These results suggest that, unlike a claim posited in recent
work~\cite{p4}, it is possible to express data-plane algorithms in a
C-like language and achieve line-rate performance. \pktlanguage shows
that it is possible with careful design to find a sweet spot between
expressiveness and performance, somewhere between P4 and Click.
Further, as \S\ref{s:compiler} shows, careful language design
simplifies the compiler.  

Our conclusion is that packet transactions provide a familiar
programming abstraction, can achieve line-rate performance, and result
in a simple compiler.  Packet-processing languages are still in their
infancy; we hope these results prompt further work on programming
abstractions for packet-processing hardware.
