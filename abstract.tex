\subsection*{Abstract}

Data-plane algorithms encompass a wide-variety of packet processing routines
including congestion control, network measurement, active queue management, and
load balancing. Today, such algorithms are implemented in hardware, whose
inflexibility prohibits experiments with new designs. While programmable
switches have been proposed as an alternative, they are often difficult to
program due to the low-level nature of languages like P4 used to program them.

This paper presents \pktlanguage, a new language for expressing data-plane
algorithms on programmable switches. \pktlanguage is a high-level, imperative
language where developers express data-plane algorithms using packet functions
with transactional semantics. We describe a compiler that translates
\pktlanguage programs into pipelined implementations that run on an abstract
machine resembling emerging programmable switch architectures. We express
several data-plane algorithms in \pktlanguage to understand how capabilities of
the underlying abstract machine affect the implementability of different
algorithms---providing guidance on how such programmable switches should
evolve.
