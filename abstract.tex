\subsection*{Abstract}
Data-plane algorithms are algorithms that execute on every packet. They
encompass many packet-processing routines including congestion control, network
measurement, active queue management, and load balancing. Such algorithms are
implemented in hardware today, prohibiting reconfigurability in the field.
While programmable line-rate switches have been proposed, they are difficult to
utilize due to the low-level nature of the languages used to program them.

This paper presents \pktlanguage, a high-level, imperative language for
expressing data-plane algorithms. Programmers write data-plane algorithms in
\pktlanguage using packet transactions: sequential code blocks that run to
completion on each packet before processing the next one. A compiler translates
\pktlanguage programs into code for \absmachine, a family of abstract machines
based on emerging programmable line-rate switch architectures. We evaluate
\pktlanguage by expressing several data-plane algorithms in \pktlanguage and
compiling them to different \absmachine machines. Our results suggest---contrary
to concerns raised in~\cite{p4}---that there is no reason to sacrifice the
convenience of high-level programming for line-rate performance.
